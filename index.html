<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Khan Academy</title>
<link rel="icon" href="https://img.icons8.com/color/452/khan-academy.png" type="image/x-icon">

<style>
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #000000;
    color: white;
}

header {
    background-color: #000000;
    color: white;
    padding: 20px 30px;
    display: flex;
    justify-content: flex-end;
}

header button {
    background-color: #3d0078;
    border: none;
    padding: 10px 20px;
    color: white;
    font-size: 18px;
    cursor: pointer;
    border-radius: 5px;
    margin-left: 20px;
}

header button:hover {
    background-color: #38008f;
}

/* VISITOR STATS */
.stats-box {
    background: #0a0a0a;
    border: 2px solid #8000ff;
    margin: 20px auto;
    width: 90%;
    max-width: 700px;
    border-radius: 12px;
    padding: 20px;
    text-align: center;
}

.stats-box h3 {
    margin-bottom: 15px;
    color: #a855f7;
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 10px;
}

.stat {
    background: #000;
    padding: 10px;
    border-radius: 8px;
    font-size: 15px;
}

/* MAIN SECTION */
.section {
    padding: 40px;
    text-align: center;
    background-color: #38008f;
}

.search-bar {
    display: block;
    width: 600px;
    padding: 10px 15px;
    margin: 20px auto 10px;
    border-radius: 10px;
    border: 2px solid #8000ff;
    background-color: #000;
    color: white;
    font-size: 16px;
    outline: none;
    text-align: center;
}

.search-bar::placeholder {
    color: white;
    opacity: 0.7;
}

#no-results {
    display: none;
    margin: 15px 0 30px;
    font-size: 20px;
    color: white;
    opacity: 0.9;
}

.game-card {
    display: inline-block;
    width: 200px;
    height: 250px;
    background-color: #000000;
    margin: 15px;
    border-radius: 10px;
    cursor: pointer;
    color: white;
    text-align: center;
}

.game-card img {
    width: 100%;
    height: 160px;
    border-radius: 10px 10px 0 0;
}

.game-card h3 {
    margin-top: 10px;
}

footer {
    background-color: #000000;
    color: white;
    text-align: center;
    padding: 20px 0;
}

iframe.fullscreen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: none;
    z-index: 1000;
}
</style>

<script>
const API = "YOUR_BACKEND_URL";

function openFullscreen(url) {
    const iframe = document.createElement('iframe');
    iframe.src = url;
    iframe.className = 'fullscreen';
    iframe.setAttribute('allowfullscreen', '');
    document.body.appendChild(iframe);
    iframe.onclick = () => iframe.remove();
}

function filterGames() {
    const input = document.getElementById("searchInput").value.toLowerCase();
    const cards = document.getElementsByClassName("game-card");
    const noResults = document.getElementById("no-results");
    let found = false;

    for (let card of cards) {
        const text = card.innerText.toLowerCase();
        if (text.includes(input)) {
            card.style.display = "inline-block";
            found = true;
        } else {
            card.style.display = "none";
        }
    }

    noResults.style.display = found ? "none" : "block";
}

// RECORD VISIT
fetch(API + "/visit", { method: "POST" });

// LOAD STATS
fetch(API + "/stats")
.then(res => res.json())
.then(data => {
    for (let key in data) {
        document.getElementById(key).textContent = data[key];
    }
});
</script>
</head>

<body>

<header>
    <button onclick="location.href='index.html'">Lessons</button>
    <button onclick="location.href='apps.html'">Apps</button>
</header>

<!-- VISITOR STATS -->
<div class="stats-box">
    <h3>ðŸ“Š Visitor Statistics</h3>
    <div class="stats-grid">
        <div class="stat">Today: <span id="today">0</span></div>
        <div class="stat">Yesterday: <span id="yesterday">0</span></div>
        <div class="stat">Last Week: <span id="lastWeek">0</span></div>
        <div class="stat">This Month: <span id="thisMonth">0</span></div>
        <div class="stat">Last Month: <span id="lastMonth">0</span></div>
        <div class="stat">This Year: <span id="thisYear">0</span></div>
        <div class="stat">All Time: <span id="allTime">0</span></div>
    </div>
</div>

<div class="section">
    <h2>Aija Unblockedd S+</h2>
    <h3>We are so back baby</h3>

    <input type="text" id="searchInput" class="search-bar"
        placeholder="Search games.." onkeyup="filterGames()">

    <div id="no-results">nothing found dude......</div>

    <!-- GAME CARDS (UNCHANGED) -->
    <!-- your existing game cards continue here exactly as you had them -->
</div>

<footer>
    <p>&copy; Aija Unblockedd S+</p>
</footer>

</body>
</html>
